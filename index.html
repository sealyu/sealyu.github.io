<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Haibo Yu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Haibo Yu">
<meta property="og:url" content="http://haiboyu.me/index.html">
<meta property="og:site_name" content="Haibo Yu">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Haibo Yu">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">Haibo Yu</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/atom.xml">Rss</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://haiboyu.me"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer">
      <article id="post-中文数字和阿拉伯数字的转换" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/zh-CN/2017/09/25/中文数字和阿拉伯数字的转换/">中文数字和阿拉伯数字的转换</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/zh-CN/2017/09/25/中文数字和阿拉伯数字的转换/" class="article-date">
  <time datetime="2017-09-25T22:05:32.000Z" itemprop="datePublished">2017-09-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>在微软的面试中遇到一个算法问题，要求将类似于”二十五万五百亿三千零八万一千零三十五”的中文数字转换成对应的阿拉伯数字。结果在面试中一味地想着用栈或者其他数据结构去实现，而没有仔细的分析具体问题和算法就开始写代码，导致完成的非常差劲。</p>
<h2 id="中文数字的特点："><a href="#中文数字的特点：" class="headerlink" title="中文数字的特点："></a>中文数字的特点：</h2><ol>
<li>包括零到九的基本数字</li>
<li>数量级文字：十、百、千、万、亿、兆、京。。。等。十百千不能连续出现，从万开始，数量级前缀其他数量级一起使用</li>
</ol>
<h2 id="算法设计"><a href="#算法设计" class="headerlink" title="算法设计"></a>算法设计</h2><p>1.使用一个Map<string,long>存储所有的数量级文字信息：</string,long></p>
<pre><code>/**
 * 数量级map，存储对应的数量级文字和对应的阿拉伯数字量值
 * @return The operator map
 */
private static Map&lt;String,Long&gt; getMagnitudeMap(){
    Map&lt;String,Long&gt; magnitudeMap = new HashMap();
    magnitudeMap.put(&quot;十&quot;, 10l);
    magnitudeMap.put(&quot;百&quot;, 100l);
    magnitudeMap.put(&quot;千&quot;, 1000l);
    magnitudeMap.put(&quot;万&quot;, 10000l);
    magnitudeMap.put(&quot;亿&quot;, 100000000l);
    magnitudeMap.put(&quot;兆&quot;, 1000000000000l);
    magnitudeMap.put(&quot;京&quot;, 10000000000000000l);
    return magnitudeMap;
}
</code></pre><p> 使用另一个Map<string,long>存储所有的基本数字信息：</string,long></p>
<pre><code>/**
 * 基本数据map，存储对应的基本数据及对应的阿拉伯数字量值
 * @return The magnitude map
 */
private static Map&lt;String,Long&gt; getDataMap(){
    Map&lt;String,Long&gt; dataMap = new HashMap&lt;&gt;();
    dataMap.put(&quot;一&quot;,1l);
    dataMap.put(&quot;二&quot;,2l);
    dataMap.put(&quot;三&quot;,3l);
    dataMap.put(&quot;四&quot;,4l);
    dataMap.put(&quot;五&quot;,5l);
    dataMap.put(&quot;六&quot;,6l);
    dataMap.put(&quot;七&quot;,7l);
    dataMap.put(&quot;八&quot;,8l);
    dataMap.put(&quot;九&quot;,9l);
    dataMap.put(&quot;零&quot;,0l);
    return dataMap;
}    
</code></pre><p>2.从后往前遍历字符串，遇到数字的时候，如果是零直接跳过，否则将当前数字前一位数量级相乘并累加到sumvalue中。</p>
<pre><code>/**
 * 从后往前遍历字符串的方式将中文数字转换为阿拉伯数字
 * @param inputStr 源字符串
 * @return 转换后的阿拉伯数字
 * @throws Exception 如果字符串中有不能识别的（不在dataMap和operatorMap）字符，抛出异常
 */
public long convertToLongFromEnd(String inputStr) throws Exception{
    //存储遇到该数字前的最大一个数量值，这个值是累乘之前所有数量级，
    //比如二百万，到二的时候最高数量级就是100*10000
    long currentMaxLevel = 1l;
    //存储之前一次执行过乘操作的数量级
    long previousOpeMagnitude = 1l;
    //存储当前字符所对应的数量级
    long currentMagnitude = 1l;
    //存储当前所有字符仲最大的单个字符的数量级，
    long maxMagnitude = 1l;

    long sumVal = 0l;

    int len = inputStr.length();
    //倒序循环整个字符串，从最低位开始计算整个数值
    for(int i=len-1;i&gt;=0;i--){
        String currentTxt = String.valueOf(inputStr.charAt(i));

        //如果当前值是数量级
        if(magnitudeMap.containsKey(currentTxt)){
            currentMagnitude = magnitudeMap.get(currentTxt);
            //如果第一位是一个数量级（比如十二）, 将当前值相加
            if(i == 0){
                sumVal = sumVal + currentMagnitude;
                return  sumVal;
            }
            //比较当前数量级与当前最大数量值，如果大于当前最大值，将当然最大数量值更新为当前数量级
            if(currentMagnitude &gt; currentMaxLevel){
                currentMaxLevel = currentMagnitude;
            }else{
                if(currentMagnitude &lt; maxMagnitude &amp;&amp; currentMagnitude &gt; previousOpeMagnitude){
                    //如果当前数量级小于当前最大数量级并且大于之前的数量级,比如二十五万五百亿，抵达&quot;万&quot;的时候因为之前的百
                    //已经与亿相乘，所以应该除以之前的百才能得到当前真正的最大数量值
                    currentMaxLevel = currentMaxLevel*currentMagnitude/previousOpeMagnitude;
                }else{
                    currentMaxLevel = currentMaxLevel*currentMagnitude;
                }
                previousOpeMagnitude = currentMagnitude;
            }

            //将当前最大单数量级更新为当前数量级
            if(currentMagnitude &gt; maxMagnitude){
                maxMagnitude = currentMagnitude;
            }
        }else if(dataMap.containsKey(currentTxt)){
            //如果是0~9之间的数字，与前面一位数量级相乘，并累加到当前sumVal
            long data = dataMap.get(currentTxt);
            if(data == 0){
                //跳过0
                continue;
            }else{
                sumVal = sumVal + data*currentMaxLevel;
            }
        }else{
            throw new Exception(&quot;Find illegal character in the input string:&quot;+currentTxt);
        }
    }
    return sumVal;
}
</code></pre>
      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/zh-CN/2017/09/25/中文数字和阿拉伯数字的转换/" title="中文数字和阿拉伯数字的转换">中文数字和阿拉伯数字的转换</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-Design-Pattern-Note-Proxy-Pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/zh-CN/2017/09/22/Design-Pattern-Note-Proxy-Pattern/">Design Pattern 笔记 - 代理模式(Proxy Pattern)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/zh-CN/2017/09/22/Design-Pattern-Note-Proxy-Pattern/" class="article-date">
  <time datetime="2017-09-22T20:11:21.000Z" itemprop="datePublished">2017-09-22</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Design-Pattern/">Design Pattern</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/zh-CN/2017/09/22/Design-Pattern-Note-Proxy-Pattern/" title="Design Pattern 笔记 - 代理模式(Proxy Pattern)">Design Pattern 笔记 - 代理模式(Proxy Pattern)</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Design-Pattern/">Design Pattern</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-red-black-bst-with-no-extra-memory" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/en/2017/05/16/red-black-bst-with-no-extra-memory/">Red–black BST with no extra memory</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/en/2017/05/16/red-black-bst-with-no-extra-memory/" class="article-date">
  <time datetime="2017-05-16T17:54:16.000Z" itemprop="datePublished">2017-05-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>I am in  a couresa course for algorithm, and in the quiz there’s 1 question:</p>
<p><span style="color: #ff6600;"><em>Red–black BST with no extra memory. Describe how to save the memory for storing the color information when implementing a red–black BST.</em></span></p>
<p>I saw some posts which are talking about using pointer(like c or c++ which support pointer) to store the color infomration. But for java, there’s no concept like pointer.</p>
<p>So 1 solution is to modify the BST tree structure, using the different order to flag the color information:</p>
<p>Red: Store the color information in the right side node of the red link, as chart below, store the information in node C/J/X.</p>
<p><a href="http://blog-sealyu.rhcloud.com/wp-content/uploads/2017/05/Screen-Shot-2017-05-16-at-10.34.29-AM.png" target="_blank" rel="external"><img src="http://blog-sealyu.rhcloud.com/wp-content/uploads/2017/05/Screen-Shot-2017-05-16-at-10.34.29-AM.png" alt=""></a></p>
<p>Using inverse order other than original BST tree, means put it’s larger child to left and smaller child to right for those nodes which store the color information. No matter it has 1 or 2 child, if the color is red, then use the inverse order, and use original order if it’s black. Since the node with red color always has at least 1 left child, then this structure will be able to store the color information without any extra memory cost.</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/en/2017/05/16/red-black-bst-with-no-extra-memory/" title="Red–black BST with no extra memory">Red–black BST with no extra memory</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-l1-visa-renewal-or-extension" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/en/2016/10/11/l1-visa-renewal-or-extension/">L1 Visa renewal or extension?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/en/2016/10/11/l1-visa-renewal-or-extension/" class="article-date">
  <time datetime="2016-10-11T22:09:24.000Z" itemprop="datePublished">2016-10-11</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>For L1 visa, I got it at 2014-11-4 :</p>
<ul>
<li>expiration date as 2016-11-6,</li>
<li>I-129S, expiration date as 2017-11-4</li>
<li>I-94, expiration date as 2019-11-4</li>
</ul>
<p>I need to go back to China at 2016-12-3, and at the time my visa is going to be expired, and then when I come back to US at 2016-12-20, i will not able to entry.</p>
<p>This problem is driving me crazy these sevral days. And finally I releaize it’s not a big deal. What i need to do is only the L1 VISA renewal.</p>
<p>Here is what it means:</p>
<ol>
<li>Extension is the process of requesting extension of stay as well as work period in US. It is filed by filing I539 ( for extension of stay) and I129 (extension for petition to work). Now generally, all this achieves is the extension of I-94. USCIS would reject the request for extension if applied more than 6 Months before I-94 expiry stating that extension is not required as I am already allowed to stay and work till 2019.  So I don’t need to file an extension now.</li>
</ol>
<p>2.As for renewal, it typically means, getting a new visa in my passport. This can happen only outside US. I need to go to the consulate outside US, take interview appointment based on my DS-160, take the I129S, and I797, and supporting documents, and face the Visa Officer and if granted, would get a new L1 stamp in my passport. The advantage of renewal is that I get fresh visa and the freedom to enter US multiple times as long as visa is valid.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/en/2016/10/11/l1-visa-renewal-or-extension/" title="L1 Visa renewal or extension?">L1 Visa renewal or extension?</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-jsf-2-richfaces-4-seam" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/en/2016/10/05/jsf-2-richfaces-4-seam/">JSF 2 + Richfaces 4 + Seam</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/en/2016/10/05/jsf-2-richfaces-4-seam/" class="article-date">
  <time datetime="2016-10-05T23:02:23.000Z" itemprop="datePublished">2016-10-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/UI/">UI</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <div class="itemizedlist"><br><br>In order to overwrite the default richfaces 4 ecss styles, from the document(<a href="https://docs.jboss.org/richfaces/latest/Developer_Guide/en-US/html_single/#sect-Developer_Guide-RichFaces_overview-Restrictions" target="_blank" rel="external">https://docs.jboss.org/richfaces/latest/Developer_Guide/en-US/html_single/#sect-Developer_Guide-RichFaces_overview-Restrictions</a>). You need to put it to &lt;h:body&gt; section:<br><br>JSF does render resource links (stylesheets, scripts) in order of occurrence, thus if you add <code>&amp;lt;h:outputStylesheet&amp;gt;</code> to the <code>&amp;lt;h:head&amp;gt;</code>section, JSF will render it before the RichFaces resource links (dependencies of RichFaces components). To be able to overwrite RichFaces stylesheets and re-use RichFaces JavaScript implementation, you need to render <code>&amp;lt;h:outputStylesheet&amp;gt;</code> to the <code>&amp;lt;h:body&amp;gt;</code>section (safe solution is to place it on the end of the section; however to keep readability, you can use start of the section).<br><br></div>

<p>&nbsp;</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/en/2016/10/05/jsf-2-richfaces-4-seam/" title="JSF 2 + Richfaces 4 + Seam">JSF 2 + Richfaces 4 + Seam</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UI/">UI</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-failed-again-on-h1b-lottery" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/en/2016/05/04/failed-again-on-h1b-lottery/">Failed Again on H1B lottery</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/en/2016/05/04/failed-again-on-h1b-lottery/" class="article-date">
  <time datetime="2016-05-04T22:48:31.000Z" itemprop="datePublished">2016-05-04</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Life is not always good. When god open a window for you, he might close the door!</p>
<p>My 3rd time for H1B lottery failed again. What the f<em>*</em>!!!!</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/en/2016/05/04/failed-again-on-h1b-lottery/" title="Failed Again on H1B lottery">Failed Again on H1B lottery</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-美国费城买车小记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/zh-CN/2016/04/28/美国费城买车小记/">美国费城买车小记</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/zh-CN/2016/04/28/美国费城买车小记/" class="article-date">
  <time datetime="2016-04-28T23:25:37.000Z" itemprop="datePublished">2016-04-28</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天终于完成了所有买车的流程，拿到Passat的钥匙和title。在美国呆了一年多，因为公司离住的地方很近，即使呆在这个『车轮上的国度』也一直只是靠走路。当然，另一个原因就是费城发达的公共交通。因为儿子即将过来读书，所以不得不买一辆车代步，以方便以后带儿子explore各种好吃好玩的地方。</p>
<p>整个过程花了大约两周时间，也看过四五辆车子，总体来说还算比较顺利。现在把这个过程记录下来，也算一种不错的经历。</p>
<p>在美国买车可以通过两种方式，从Dealer或者私人手上买车。从Dealer买车会相对放心一点，但是价格相对也会高很多。所以选择从私人买车。因为正值学生毕业季，身在费城这个很多大学很多华人留学生的城市，可供选择的车还是挺多的。</p>
<p>整个过程看了5辆车子，2012年的凯美瑞、2010年的Acua、2013年的Nissan Altima、2007年的奥迪A4还有2012年的Passat。寻找这些车子的信息主要是费城和北美这边几个大的华人论坛（北美微论坛、费城华人资讯网、美国同程网）和Craglist，最后发现信息最多的是北美微论坛，车子也是在这里看到车主的广告后联系购买的。</p>
<p>看了5两车子，前面几辆车子都有或多或少的一些问题。所以最后决定了买Passat。从看车到买车总共花了不到一周时间全部搞定：</p>
<ol>
<li>约了原车主看车（原车主是个即将毕业的小伙子，住的很近而且国内的地址也离得很近，还是挺有缘分的）。当天试驾了一下，整体车况很不错，2012年高配的Passat SE，5 cyl，蓝牙、天窗、加热皮座椅等。驾驶感觉也不错。因为原车主由于毕业急着卖出去，所以给的价格也不是很高，基本上当天双方就定下来交易了。</li>
<li>美国买车前最好必须要做的一件事是查看Carfax和Autocheck报告。这两个报告记录了所有车子的信息，包括里程数，保养记录，是否有事故，之前有几任车主以及是不是之前这个车子被用来出租用。而且这两个公司的信息来源不同，记录的信息有时候也不全面，最好是都看一下。我看Camry的时候就是看到Carfax没有车祸记录而且是clean title所以准备买，结果后来发现Autocheck上记录了车祸记录，这样会影响买车时候的价格。Passat车子的Carfax和Autocheck全部是Clean的，所以很放心的就决定要买了。</li>
<li>因为手上现金不够，所以根据印度同事的建议，去DCU贷款（<a href="https://www.dcu.org/index.html）。DCU的贷款利率比各大银行利率都会低很多，而且如果Credit" target="_blank" rel="external">https://www.dcu.org/index.html）。DCU的贷款利率比各大银行利率都会低很多，而且如果Credit</a> Score高的话，这个rate会很低。像我拿到的是2.99%的利率，如果是去BOA的话，这个肯定要5%以上。Online提交了我的各种信息，以及和车主签订的sales agreement还有车子title的扫描件，两个工作日之内就办完了贷款，然后使用FedEx的加急服务，贷款完成的第二天晚上就拿到了支票。这个支票是签给seller的，而且必须要seller和buyer两个人同时签名才能入账。</li>
<li>买车之前最好是去做一个merchanic check，周边很多连锁的店都可以做，比如Firestone。但是因为车主之前是从Dealer那里买的Certified Pre-Own车子，车况也比较好，所以就没有去做。</li>
<li>在Pennsvalnia，买车前还必须要做的一件事情就是去买Auto insurance。根据同事的推荐，在几个大的保险公司Geico、StateFarm、Progressive都拿了Quote。比较了一下还是Statefarm比较好。所以提供了自己的各种信息，电话里提供了信用卡信息和车子的VIN号码，几分钟就完成了保险的购买。6个月的policy，总共价格不到600刀。Agent立刻寄给我ID Card，以便第二天去办理过户。</li>
<li><p>和车主第二天去办理过户手续，因为听说人很多所以没有去DMV，就在家附近的Penn DOT授权的Agent那里办理，整个过程用了不到办个小时：</p>
<ol>
<li>车主提供了title，registration，并且在title上面签好了自己的名字，报了车子的公里数</li>
<li>本人提供了有效宾州的驾照，保险的ID card，在title上签名</li>
<li>本来是想sign as gift，这样可以省掉8%的税。但是因为有贷款，所以就把价格报的和贷款数额一样，这样也省掉了大约500刀购置税。</li>
<li>除了税，其他的过户手续等大约花了150左右，拿到了新的车牌和registration。</li>
<li>将车子换好车牌，拿到车钥匙，全部交易完毕。<br>&nbsp;</li>
</ol>
</li>
</ol>
<p>&nbsp;</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/zh-CN/2016/04/28/美国费城买车小记/" title="美国费城买车小记">美国费城买车小记</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-javascript-timezone-issue-with-backend-server-in-different-zone" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/en/2015/10/02/javascript-timezone-issue-with-backend-server-in-different-zone/">Javascript timezone issue with backend server in different zone</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/en/2015/10/02/javascript-timezone-issue-with-backend-server-in-different-zone/" class="article-date">
  <time datetime="2015-10-02T21:09:27.000Z" itemprop="datePublished">2015-10-02</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today I met an problem when doing the test in the server from different timezone:</p>
<ol>
<li>Client select a date(Say 2015-10-1 ) from the form, angular populate the datetime with new Date() from javascript and pass it to server.</li>
<li>After saving the object and then display it, it’s displayed as ‘2015-9-30 23:00:00’. And every time after doing this, we have 1 hour difference.<br>Then I realize this should be a timezone issue and check the document:</li>
</ol>
<p>“When populating the date and no timezone is specified, it default to use the local timezone from the client browser”.</p>
<p>Since our QA server is from different timezone, we always has the 1 hour difference.</p>
<p><strong>Solution:</strong></p>
<p>We could have multiple solutions for this. But our requirement is pretty straightforward, we just want no matter which date the client selected, we have the same value saved to database. So I changed the value that we passed to server to be a string value(like ‘2015/10/1’) and parse the date from server side, instead of using the datatime long value.</p>
<p>There also some other solution referred:</p>
<p><a href="http://www.techrepublic.com/article/convert-the-local-time-to-another-time-zone-with-this-javascript/" target="_blank" rel="external">http://www.techrepublic.com/article/convert-the-local-time-to-another-time-zone-with-this-javascript/</a></p>
<p><a href="http://momentjs.com/timezone/docs/" target="_blank" rel="external">http://momentjs.com/timezone/docs/</a></p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/en/2015/10/02/javascript-timezone-issue-with-backend-server-in-different-zone/" title="Javascript timezone issue with backend server in different zone">Javascript timezone issue with backend server in different zone</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-EJB3.0 和 EJB2 的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/zh-CN/2014/01/06/EJB3.0 和 EJB2 的区别/">EJB3.0 和 EJB2 的区别</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/zh-CN/2014/01/06/EJB3.0 和 EJB2 的区别/" class="article-date">
  <time datetime="2014-01-06T19:35:23.000Z" itemprop="datePublished">2014-01-06</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>1. EJB2.0使用EntityBeans来访问数据库，EJB3.0是使用JPA（Java Persistance API）来访问数据库。</p>
<p>2. EJB2.0 有部署脚本(Deployment descriptiors),EJB3.0没有。</p>
<p>3. EJB3.0不需要Home接口，EJB2.0需要。</p>
<p>4. EJB3.0简化了开发，引入了元数据。</p>
<p>5. EJB2 限制开发人员无法在 EJB 容器外部测试 EJB 模块 ， EJB3可以更方便的使用JUnit等测试框架</p>
<p>6.EJB3 可以使用更多元化的SQL查询语言，包括native查询，而EJB2使用的是EJBQL。</p>
<p>7.EJB3的annotation的使用</p>
<p>8.EJB2中需要创建多个不必要的组件接口，而且要捕获一些不需要的异常信息，使用不太灵活</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/zh-CN/2014/01/06/EJB3.0 和 EJB2 的区别/" title="EJB3.0 和 EJB2 的区别">EJB3.0 和 EJB2 的区别</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/EJB/">EJB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <article id="post-儿子第一次用MSN和我的聊天记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/zh-CN/2011/08/19/儿子第一次用MSN和我的聊天记录/">儿子第一次用MSN和我的聊天记录</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/zh-CN/2011/08/19/儿子第一次用MSN和我的聊天记录/" class="article-date">
  <time datetime="2011-08-19T10:43:16.000Z" itemprop="datePublished">2011-08-19</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Life/">Life</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>140101<br>m,,<br>mmmmmmmmmmmm<br>p010看过晕<br>ti\<br>9.5 不会呼唤 9 提议明年，， 男男女女男男女女男男女女男男女女年内能000000000000</p>

      
    </div>
    

      <div>
          <ul class="post-copyright">
              <li class="post-copyright-author">
                  <strong>本文作者：</strong>Haibo Yu
              </li>
              <li class="post-copyright-link">
                  <strong>本文链接：</strong>
                  <a href="/zh-CN/2011/08/19/儿子第一次用MSN和我的聊天记录/" title="儿子第一次用MSN和我的聊天记录">儿子第一次用MSN和我的聊天记录</a>
              </li>
              <li class="post-copyright-license">
                  <strong>版权： </strong>
                  本站文章均采用 <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0 CN</a> 许可协议，请勿用于商业，转载注明出处！
              </li>
          </ul>
      </div>

    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Life/">Life</a></li></ul>

          
      </footer>
    
  </div>
  
</article>








    
      <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
      </nav>
    </section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Haibo Yu&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
      <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'haibo-yu';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?84baf5bcb0c29c40eacced4833439612";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>